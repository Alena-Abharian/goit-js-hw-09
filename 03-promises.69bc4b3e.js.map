{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEeC,SAASC,cAAc,SAE/BC,iBAAiB,UAExB,SAAwBC,GACtBA,EAAEC,iBACF,IAAIC,EAAU,EACVC,EAAQC,OAAOJ,EAAEK,OAAOC,MAAMC,OAC5BC,EAAOJ,OAAOJ,EAAEK,OAAOG,KAAKD,OAC5BE,EAASL,OAAOJ,EAAEK,OAAOI,OAAOF,OAEtCG,YAAW,WACT,IAAMC,EAAgBC,aAAY,WAkBtC,IAAuBC,EAAUP,EACzBQ,EACAC,EAnBEN,IAAWP,EACbc,cAAcL,KAgBCE,EAdfX,GAAW,EAccI,EAbFH,EAcvBW,EAAgBG,KAAKC,SAAW,GAChCH,EAAW,CAAEF,WAAUP,SACzBQ,EACKK,QAAQC,QAAQL,GAEhBI,QAAQE,OAAON,IAlBfO,MAAK,SAAAC,G,IAAGV,EAAQU,EAARV,SAAUP,EAAKiB,EAALjB,MACjBkB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAwCC,OAAfd,EAAS,QAAYc,OAANrB,EAAM,UAEvEsB,OAAM,SAAAL,G,IAAGV,EAAQU,EAARV,SAAUP,EAAKiB,EAALjB,MAClBkB,EAAA7B,GAAS8B,OAAOI,QAAQ,sBAAqCF,OAAfd,EAAS,QAAYc,OAANrB,EAAM,UAEvEH,GAASK,KAEVA,KACFL,M","sources":["src/js/03-promises.js"],"sourcesContent":["import notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onGetFormValue);\n\nfunction onGetFormValue(e) {\n  e.preventDefault();\n  let counter = 0;\n  let delay = Number(e.target.delay.value); //1000\n  const step = Number(e.target.step.value); //500\n  const amount = Number(e.target.amount.value);\n\n  setTimeout(() => {\n    const setIntervalId = setInterval(() => {\n      if (amount === counter) {\n        clearInterval(setIntervalId);\n      } else {\n        counter += 1;\n        createPromise(counter, delay)\n          .then(({ position, delay }) => {\n            notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n        delay += step;\n      }\n    }, step);\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const response = { position, delay };\n  if (shouldResolve) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n\n\n"],"names":["$iU1Pc","parcelRequire","document","querySelector","addEventListener","e","preventDefault","counter","delay1","Number","target","delay","value","step","amount","setTimeout","setIntervalId","setInterval","position","shouldResolve","response","clearInterval","Math","random","Promise","resolve","reject","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.69bc4b3e.js.map"}