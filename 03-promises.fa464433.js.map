{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEeC,SAASC,cAAc,SAE/BC,iBAAiB,UAExB,SAAwBC,GACtBA,EAAEC,iBACF,IAAIC,EAAU,EACVC,EAAQC,OAAOJ,EAAEK,OAAOC,MAAMC,OAClC,MAAMC,EAAOJ,OAAOJ,EAAEK,OAAOG,KAAKD,OAC5BE,EAASL,OAAOJ,EAAEK,OAAOI,OAAOF,OAEtCG,YAAW,KACT,MAAMC,EAAgBC,aAAY,KAC5BH,IAAWP,EACbW,cAAcF,IAEdT,GAAW,EAcnB,SAAuBY,EAAUR,GAC/B,MAAMS,EAAgBC,KAAKC,SAAW,GAChCC,EAAW,C,SAAEJ,E,MAAUR,GAC7B,OAAIS,EACKI,QAAQC,QAAQF,GAEhBC,QAAQE,OAAOH,GAnBlBI,CAAcpB,EAASC,GACpBoB,MAAK,EAACT,SAAEA,EAAQR,MAAEA,MACjBkB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBZ,QAAiBR,UAE/DqB,OAAM,EAACb,SAAEA,EAAQR,MAAEA,MAClBkB,EAAA7B,GAAS8B,OAAOG,QAAQ,sBAAoBd,QAAeR,UAE/DH,GAASK,KAEVA,KACFL","sources":["src/js/03-promises.js"],"sourcesContent":["import notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onGetFormValue);\n\nfunction onGetFormValue(e) {\n  e.preventDefault();\n  let counter = 0;\n  let delay = Number(e.target.delay.value); //1000\n  const step = Number(e.target.step.value); //500\n  const amount = Number(e.target.amount.value);\n\n  setTimeout(() => {\n    const setIntervalId = setInterval(() => {\n      if (amount === counter) {\n        clearInterval(setIntervalId);\n      } else {\n        counter += 1;\n        createPromise(counter, delay)\n          .then(({ position, delay }) => {\n            notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          });\n        delay += step;\n      }\n    }, step);\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const response = { position, delay };\n  if (shouldResolve) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n\n\n"],"names":["$eWCmQ","parcelRequire","document","querySelector","addEventListener","e","preventDefault","counter","delay1","Number","target","delay","value","step","amount","setTimeout","setIntervalId","setInterval","clearInterval","position","shouldResolve","Math","random","response","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.fa464433.js.map"}